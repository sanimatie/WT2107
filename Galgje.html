<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
    var woordenArray = ["cavia","krukje","tijd","fors","sambal","zuivel","kritisch","jasje","giga","dieren"
,"lepel","picknick","quasi","verzenden","winnaar","dextrose","vrezen","niqaab","hierbij","quote"
,"botox","cruciaal","zitting","cabaret","bewogen","vrijuit","carri√®re","ijverig","cake","dyslexie"
,"uier","nihil","sausje","kuuroord","poppetje","docent","camping","schijn","kloppen","detox"
,"boycot","cyclus","quiz","censuur","aaibaar","chagrijnig","fictief","chef","gering","nacht"
,"cacao","triomf","baby","ijstijd","cruisen","ontzeggen","quad","open","turquoise","carnaval"
,"boxer","straks","fysiek","accu","twijg","quote","gammel","flirt","futloos","vreugde"
,"ogen","geloof","periode","volwaardig","uitleg","stuk","volk","even","stijl","val"
,"alliantie","tocht","mooi","joggen","broek","kwik","werksfeer","vorm","nieuw","sopraan"
,"miljoen","inrichting","klacht","dak","echt","schikking","print","oorlog","zijraam","hyacint"
];
    var pogingenNum = 10;
    var antwoord = woordenArray[Math.floor(Math.random()*100)];
    console.log(antwoord);
    var weergaveLetters = [];
  
    window.onload = function Galgje(){
    var weergaveWoord = document.getElementById("het-woord");
    for (i = 0; i < antwoord.length; i++){
        //geef het aantal letters aan op het scherm
        weergaveWoord.innerHTML+= "_ ";
        //maak een array met het juiste aantal letters
        weergaveLetters.push("_ ");
        }
        //verberg nieuw spel knop
        document.getElementById("nieuw-spel").style.visibility = "hidden";
    }

    function checkletter(){
    var pogingenNieuw = document.getElementById("pogingen");
    var inputVak = document.getElementById("letter-input");
    var letterInput = inputVak.value;

    var countLetter = 0;

    var foutGeraden = document.getElementById("geraden");
    
    //weer opnieuw de id het-woord zoeken want ik krijg daar geen globale variabele van gemaakt for some reason
    var weergaveWoord = document.getElementById("het-woord");

    var gewonnenTekst = document.getElementById("gewonnen");
    //voorkom dat mensen iet anders dan een letter versturen
    var geenLetters = /[^A-Za-z]/;
    if (letterInput.match(geenLetters)){
        alert("vul een letter in");
        inputVak.value="";
    } else {
            for (var i = 0; i < antwoord.length; i++){
                if (letterInput == antwoord[i]){
                    //melding dat je de letter al geraden hebt, kost geen punt
                    if (letterInput == weergaveLetters[i]){
                        alert("Deze letter heb je al geraden");
                        countLetter++;
                        //stop de loop zodat je niet twee keer dezelfde melding krijgt als een letter twee keer voorkomt
                        i = antwoord.length;
                    } else {
                    countLetter++;
                    //gebruik de eerder gemaakte array om de nieuwe letters te plaatsen
                    weergaveLetters[i] = letterInput;

                    }

            }

            }
            if (countLetter == 0){
                    pogingenNum--;
                    pogingenNieuw.innerHTML = "overige pogingen: " + pogingenNum;

                    //melding als je de letter al geraden hebt, kost een punt
                    if (foutGeraden.innerHTML.includes(letterInput)){
                        alert("Deze letter heb je al geraden");
                    } else {
                    //foute letter toevoegen aan lijst
                    foutGeraden.innerHTML += letterInput + ",";
                }
            }
                // reset het input vakje
                inputVak.value = "";
                weergaveWoord.innerHTML = weergaveLetters.join("");

                //controleer of alle letters zijn ingevuld en geef een winstmelding als dit zo is
                if (weergaveWoord.innerHTML.includes("_") == false){
                gewonnenTekst.innerHTML="je hebt gewonnen!";
                //maak nieuw spel knop zichtbaar
                document.getElementById("nieuw-spel").style.visibility = "visible";
                }

                //controleer of je pogingen op zijn en geef een verliesmelding als dit zo is
                if (pogingenNum === 0){
                    gewonnenTekst.innerHTML = "je hebt verloren :-(";
                }

    }
}

function nieuwSpel(){
    location.reload();
}

    </script>
</head>
<body>
    <div>
Galgje
<br>
vul een letter in
<br>
<div id="het-woord"></div>
<br>
<div id="gewonnen"></div>
<input id="letter-input" type="text" maxlength="1" size="1">
<input type="button" value="stuur" onclick="checkletter()">
<div id="pogingen">overige pogingen: 10</div>
<div>fout geraden letters:</div>
<div id="geraden"></div>
<input id="nieuw-spel" type="button" value="nieuw spel" onclick="nieuwSpel()">
</body>
</html>